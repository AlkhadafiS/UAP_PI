import json, requests
URL = "https://cuaca-gempa-rest-api.vercel.app/"

BMKG = requests.get(URL)
BMKG_Success = BMKG.json()
gempa = "https://cuaca-gempa-rest-api.vercel.app/quake"
cuaca = "https://cuaca-gempa-rest-api.vercel.app/weather/"

def cariKabupaten(provinsi, kabupaten):
  hasilKabupaten = cuaca + provinsi + "/" + kabupaten
  hasilKabupaten = requests.get(hasilKabupaten)
  return hasilKabupaten

def cariProvinsi(provinsi):
  hasilProvinsi = cuaca + provinsi
  hasilProvinsi = requests.get(hasilProvinsi)
  return hasilProvinsi

print("SELAMAT DATANG DI APP BMKG\n")
password = input("masukan password untuk melanjut kan : ")

listdata = ["1. gempa terkini","2. cuaca"]
for x in listdata:
    print (x)

if (password == 'unila'):
    pilihData = input("pilih data yang ingin dilihat :")

    if pilihData == '1':
        link = requests.get(gempa)
        output = link.json()

    elif pilihData == '2':
        link = requests.get(cuaca)
        skala = input("Ingin melihat cuaca skala provinsi atau kabupaten/kota? (1: provinsi, 2: kabupaten/kota)\t: ")

        if skala == '1':
            provinsi = input("Masukan nama provinsi (pisahkan spasi dengan '-' dan gunakan huruf kecil)\t: ")
            outputP = cariProvinsi(provinsi)
            output = outputP.json()

        elif skala == '2':
            provinsi = input("Masukan nama provinsi (pisahkan spasi dengan '-' dan gunakan huruf kecil)\t: ")
            kabupaten = input("Masukan nama kabupaten/kota (pisahkan spasi dengan '-' dan gunakan huruf kecil)\t: ")
            outputK = cariKabupaten(provinsi, kabupaten)
            output = outputK.json()

    print(output)

else :
    if (password.isupper()):
        print ("perhatikan huruf besar dan kecil")
    else :
        print("password salah")
